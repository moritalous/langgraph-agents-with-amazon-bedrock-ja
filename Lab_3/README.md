# ラボ 3: エージェント検索ツール

このセクションでは、AI エージェントが使用するより高度な検索形式であるエージェント検索の概念を紹介します。標準検索やゼロショット学習とは異なり、エージェント検索では、エージェントが動的データにアクセスし、情報のソースを提供し、複雑なクエリをサブ質問に分解して処理できます。このプロセスには、クエリの理解、情報の最適なソースの選択、関連データの抽出、重要度の低い詳細の除外が含まれます。このアプローチは、幻覚を減らし、人間とコンピューターの相互作用を改善するのに役立ちます。

このセクションでは、実際の例を使用して、通常の検索ツールとエージェント検索ツールの違いを示します。サンフランシスコの天気クエリを使用して、通常の検索 (`DuckDuckGo` を使用) が、有用な情報を抽出するためにさらに処理が必要なリンクを提供する方法を示します。対照的に、エージェント検索ツール (`Tavily` を使用) は、AI エージェントが処理するのに最適な JSON 形式の構造化データを返します。

エージェント検索ツールの実装の基本的な例を次の図に示します。

![エージェント検索ツール](../assets/lab3_1.png)

エージェントが検索ツールにクエリを送信すると決定すると、まず質問を理解し、必要に応じてサブ質問に分割します。これは、エージェントが複雑なクエリを処理できるようにするため、重要なポイントです。次に、各サブクエリについて、検索ツールは複数の統合から選択して最適なソースを見つける必要があります。たとえば、エージェントが「サンフランシスコの天気はどうですか?」と質問した場合、検索ツールは最適な結果を得るために天気 API を使用する必要があります。この作業は、正しいソースを見つけることで終わりません。検索ツールは、サブクエリに関連する情報のみを抽出する必要があります。

これを基本的に実装するには、ソースをチャンク化し、クイック ベクトル検索を実行して上位 K 個のチャンクを取得します。ソースからデータを取得した後、検索ツールは結果にスコアを付け、関連性の低い情報を除外します。この実装を下の図に示します。

![エージェント検索ツール](../assets/lab3_2.png)

早速始めましょう!